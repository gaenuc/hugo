<div class="relative">
<div class="hidden md:flex h-[40vw] bg-no-repeat" [style]="'background-image:url('+data.pics[0]+')'">

    <h1 class="text-[7vw] font-black text-white my-auto ml-[15vw] drop-shadow-md">
        {{data.title | uppercase}}
    </h1>
</div>
<div class="flex md:hidden h-[140vw] bg-cover" [style]="'background-image:url('+data.pics[2]+')'">
    <h1 class="text-5xl font-black text-white my-auto ml-[15vw] drop-shadow-md">
        {{data.title | uppercase}}
    </h1>
</div>
<div [formGroup]="form" class="flex flex-col px-6 md:px-[15vw] my-12 md:my-[2vw]">
    <div class="flex flex-col md:flex-row mt-12 md:mt-[2vw] rounded-4xl bg-white w-full ">
        <div class="flex flex-col flex-1/2 pt-8 md:pt-[2vw] px-12 md:pl-[3vw] md:pr-0 pb-6lg">        
            <div class="flex">
                <span class="text-2xl md:text-5xl-vw mx-auto  md:mx-0 font-bold text-dark-blue pb-[1vw] md:pr-[4vw] border-b-4 border-oran shadow-custom">{{data.name}}</span>
            </div>
            @if(data.subtitle !== '') {
                <div class="flex mt-8 md:mt-[1vw]">
                    <span class="text-xl md:text-3xl-vw mx-auto text-center md:text-left md:mx-0 font-semibold text-dark-blue">{{data.subtitle}}</span>
                </div>
            }
            
            <div class="flex flex-col mt-8 md:mt-[1vw] md:w-full"> 
                <span class="text-dark-blue text-xl md:text-xl-vw text-center md:text-left leading-tight">{{data.description}}</span>
                @if(data.description2) {<span class="text-dark-blue text-xl md:text-xl-vw text-center md:text-left mt-[1vw] leading-tight">{{data.description2}}</span>}
                <span class="text-dark-blue text-xl md:text-xl-vw mt-[1vw] text-center md:text-left leading-tight">Un'esperienza esclusiva, firmata Hugoexperience!</span>
                
            </div>
            <div class="border-b border-oran w-full flex flex-col md:grid md:grid-cols-2 md:grid-rows-2 mt-12 pb-6 md:pb-0 md:mt-[2vw]">
                <div class="flex flex-col md:flex-row row-start-1 md:col-start-1 md:col-span-1 items-center mb-[1vw] mt-4 md:mt-0">
                    <img class="h-12 md:h-16lg" src="/assets/img/icon_guest.png" alt="">
                    <div class="ml-[1vw] flex flex-col">
                        <span class="text-dark-blue text-2xl md:text-xl-vw text-center md:text-left leading-tight">Posti Omologati</span>
                        <span class="text-dark-blue text-xl md:text-xl-vw text-center md:text-left leading-tight">{{data.seats}}</span>
                    </div>                    
                </div>
                <div class="flex flex-col md:flex-row row-start-2 md:row-start-1 md:col-start-2 md:col-span-1 items-center mb-[1vw]  mt-4 md:mt-0">
                    <img class="h-12 md:h-16lg" src="/assets/img/icon_fuel.png" alt="">
                    <div class="ml-[1vw] flex flex-col">
                        <span class="text-dark-blue text-2xl md:text-xl-vw  text-center md:text-left leading-tight">Carburante</span>
                        <span class="text-dark-blue text-xl md:text-xl-vw  text-center md:text-left leading-tight">{{data.fuel}}</span>
                    </div>                    
                </div>
                <div class="flex flex-col md:flex-row row-start-3 md:col-start-1 md:row-start-2 col-span-1 items-center mb-[1vw]  mt-4 md:mt-0">
                    <img class="h-12 md:h-16lg" src="/assets/img/icon_service.png" alt="">
                    <div class="ml-[1vw] flex flex-col">
                        <span class="text-dark-blue text-2xl md:text-xl-vw  text-center md:text-left leading-tight">Tipo di servizio</span>
                        @for(el of data.service; track $index) {
                            <span class="text-dark-blue text-base md:text-base-vw text-center md:text-left leading-tight">• {{el}}</span>
                        }                        
                    </div>                    
                </div>
                <div class="flex flex-col md:flex-row row-start-4 md:col-start-2 md:row-start-2 col-span-1 items-center mb-[1vw]  mt-4 md:mt-0">
                    <img class="h-12 md:h-16lg" src="/assets/img/icon_checkin.png" alt="">
                    <div class="ml-[1vw] flex flex-col">
                        <span class="text-dark-blue text-2xl md:text-xl-vw  text-center md:text-left leading-tight">Check-In</span>
                        @for(el of data.check_in; track $index) {
                            <a [href]="['/barche/'+data.id+'#location']" class="text-custom-orange text-base md:text-sm-vw text-center md:text-left leading-tight">• {{el}}</a>
                        }
                    </div>                    
                </div>
            </div>
            <div class="w-full flex flex-col mt-6 md:mt-[2vw]">
                <div class="flex flex-col md:flex-row items-center  md:mb-[1vw]">
                    <img class="h-12 md:h-16lg" src="/assets/img/icon_price.png" alt="">
                    <div class="ml-[1vw] flex flex-col w-4/5">
                        <span class="text-dark-blue text-2xl md:text-xl-vw text-center md:text-left leading-tight">Prezzi</span>
                        @for(el of data.prices; track $index) {
                            <span class="hidden md:block text-dark-blue text-base md:text-base-vw leading-tight">• {{el[1] }} @if (el[0]!== '') { | <b> {{ el[0]}} </b>}</span>
                            <span class="block md:hidden text-center md:text-left text-dark-blue text-base md:text-base-vw leading-tight mb-2"> @if (el[0]!== '') { <b> {{ el[0]}} </b><br>} {{el[1] }} </span>
                        }
                    </div>                    
                </div>
                @if(data.skipperPrices[0]) { 
                <div class="flex flex-col md:flex-row items-center mb-[1vw]  mt-4 md:mt-0">
                    <img class="h-12 md:h-16lg" src="/assets/img/icon_skipper.png" alt="">
                    <div class="ml-[1vw] w-4/5 flex flex-col">
                        <span class="text-dark-blue text-2xl md:text-xl-vw text-center md:text-left leading-tight">Prezzi con Skipper</span>
                        @for(el of data.skipperPrices; track $index) {
                            <span class="hidden md:block text-dark-blue text-base md:text-base-vw leading-tight">• {{el[1] }} @if (el[0]!== '') { | <b> {{ el[0]}} </b>}</span>
                            <span class="block md:hidden text-center md:text-left text-dark-blue text-base md:text-base-vw leading-tight mb-2"> @if (el[0]!== '') { <b> {{ el[0]}} </b><br>} {{el[1] }} </span>
                        }
                    </div>                    
                </div>}
            </div>
            
        </div>
        <div class="flex-1/2 p-3 md:p-6lg">
            <img class="rounded-b-4xl md:rounded-r-3xl md:rounded-bl-none w-full h-full" [src]="data.pics[1]" alt="">
        </div>
    </div>
 @if(data.additional) {
    @for(el of data.add; track $index) {
        <div id="tour"></div>
        <div class="flex flex-col md:flex-row mt-12 md:mt-[6vw] rounded-4xl bg-white w-full">
            <div class="flex flex-col flex-1/2 pt-8 md:pt-[2vw] px-12 md:pl-[3vw] md:pr-0 pb-6lg">        
                <div class="flex">
                    <span class="text-4xl md:text-5xl-vw font-bold text-dark-blue pb-[1vw] md:pr-[4vw] text-center md:text-left">{{el.title}}</span>
                </div>
                <div class="flex flex-col mt-8 md:mt-[2vw] md:w-3/4"> 
                    <span class="text-dark-blue text-xl md:text-xl-vw text-center md:text-left leading-tight">{{el.descrizione}}</span>
                    
                </div>
                <div class="border-b border-oran w-full pb-6 md:pb-0 grid grid-cols-2 md:grid-cols-2 md:grid-rows-2 mt-12 md:mt-[2vw]">
                    <div class="flex flex-col md:flex-row row-start-1 md:col-start-1 col-span-2 items-center mb-8 md:mb-[1vw]">
                        <img class="h-12 md:h-16lg" src="/assets/img/icon_hour.png" alt="">
                        <div class="ml-[1vw] flex flex-col">
                            <span class="text-dark-blue text-2xl md:text-2xl-vw  text-center md:text-left leading-tight">Durata Tour</span>
                            <span class="text-dark-blue text-xl md:text-xl-vw  text-center md:text-left leading-tight">{{el.durata}}</span>
                        </div>                    
                    </div>
                    <div class="flex flex-col md:flex-row row-start-2 md:row-start-2 md:col-start-1 col-span-2 items-center mb-[1vw]">
                        <img class="h-12 md:h-16lg" src="/assets/img/icon_checkin.png" alt="">
                        <div class="ml-[1vw] flex flex-col">
                            <span class="text-dark-blue text-2xl md:text-2xl-vw  text-center md:text-left leading-tight">Check-In</span>
                            <span class="text-dark-blue text-xl md:text-xl-vw  text-center md:text-left leading-tight">{{el.check_in}}</span>
                        </div>                    
                    </div>
                   
                </div>
                <div class="w-full flex flex-col mt-6 md:mt-[2vw]">
                   
                    <div class="flex flex-col md:flex-row items-center mb-[1vw]">
                        <img class="h-12 md:h-16lg" src="/assets/img/icon_price.png" alt="">
                        <div class="ml-[1vw] flex flex-col">
                            <span class="text-dark-blue text-2xl md:text-2xl-vw text-center md:text-left leading-tight">Prezzi</span>
                          
                                <span class="text-dark-blue text-xl md:text-base-vw text-center md:text-left leading-tight">{{el.prezzo}}</span>
                          
                        </div>                    
                    </div>
                </div>
                
            </div>
            <div class="flex-1/2 p-3 md:p-6lg">
                <img class="rounded-b-4xl md:rounded-bl-none md:rounded-r-3xl w-full h-full" [src]="el.img" alt="">
            </div>
        </div>
    }
}

<div class="flex flex-col md:flex-row mt-12 md:mt-[6vw] rounded-4xl bg-white w-full" id="location">
    <div class="flex flex-col flex-1/2 p-4 md:py-[1vw] md:pl-[3vw] md:pb-6lg">        
        <div class="flex flex-col">
            <span class="text-2xl md:text-5xl-vw font-bold text-dark-blue mx-auto md:mx-0 pb-[1vw] md:pr-[4vw] border-b-4 border-oran shadow-custom md:w-2/3">Come arrivare </span>
            <span class="text-dark-blue text-2xl md:text-xl-vw leading-tight mt-[1vw] text-center md:text-left">Clicca sulle icone per visualizzare le indicazioni stradali del punto di check-in che ti interessa</span>

        </div>
    </div>
    <div class="flex flex-col md:flex-row md:w-1/2 md:py-[2vw] p-4 md:pr-[3vw] md:pb-6lg" >        
        @for(el of data.check_in; track $index) {
            <a [href]="location(el)" target="_blank" class="hidden md:flex flex-col cursor-pointer active:scale-95" [style]="' width: calc(1/'+data.check_in.length+' * 100%)'">
                <img class="h-12 md:h-16lg md:w-16lg mx-auto" src="/assets/img/icon_map.png" alt="">                
                <span class="text-dark-blue text-base md:text-lg-vw font-semibold text-center leading-tight mx-auto my-4 uppercase">{{el}}</span>                                    
            </a>        
            <a [href]="location(el)" target="_blank" class="flex md:hidden flex-col cursor-pointer w-full active:scale-95">
                <img class="h-12 md:h-16lg md:w-16lg mx-auto" src="/assets/img/icon_map.png" alt="">                
                <span class="text-dark-blue text-base md:text-lg-vw font-semibold text-center leading-tight mx-auto my-4 uppercase">{{el}}</span>                                    
            </a>        
        }        
    </div>

</div>



    <div class="flex p-8 md:p-0 flex-col md:flex-row mt-[6vw] rounded-4xl bg-white w-full text-center md:text-left">
        <div class="flex flex-col flex-1/2 md:pt-[2vw] md:pl-[3vw] md:pb-6lg">        
            <div class="flex">
                <span class="text-2xl md:text-5xl-vw mx-auto  md:mx-0 font-bold text-dark-blue pb-[1vw] md:pr-[4vw] border-b-4 border-oran shadow-custom">Prenota </span>
            </div>
            <div class="flex flex-col mt-6 md:mt-[2vw] w-full"> 
                <span class="text-dark-blue text-2xl md:text-3xl-vw leading-tight mb-[2vw] font-bold">{{data.name}}</span>
                <span class="text-dark-blue text-xl md:text-3xl-vw leading-tight">
                    Scrivici per prenotare la tua barca e vivere un'esperienza indimenticabile. <br> 
                    
                </span>
            </div>
                @if(!success){
                    <div class="flex flex-col mt-6 md:mt-[1vw] md:pt-[1vw] w-full border-t border-t-oran"> 
                        <span class="text-dark-blue font-semibold text-xl md:text-2xl-vw leading-tight mt-6 mb-4">
                            Servizi aggiuntivi:
                        </span>
                        <span class="text-dark-blue text-xl md:text-lg-vw leading-tight mb-4">
                            Personalizza la tua esperienza selezionando i nostri servizi extra
                        </span>
                        @for(service of services; track $index) {
                            <div class="flex flex-row  text-dark-blue text-base md:text-lg-vw leading-tight w-full md:w-4/5 mt-4 md:mt-0">• {{service.name}}  
                                @if(service.expand){<ng-icon (click)="showCard = true; getServices(service.id)" name="heroInformationCircle" class="ml-3 cursor-pointer active:scale-95" ></ng-icon>}
                                <p-toggleswitch class="ml-auto" [formControlName]="service.name" />
                            </div> 
                        }
                    </div>
                }
                                    
        </div>
        @if(!success) {<div class="flex flex-col flex-1/2 py-6 md:p-[2vw]">
            <input formControlName="name" placeholder="Nome" class="placeholder:text-dark-blue placeholder:text-xl md:placeholder:text-xl-vw placeholder:opacity-60 focus-visible:outline-2 focus-visible:outline-oran text-xl md:text-xl-vw border-2 border-oran py-2 md:py-2lg px-8 md:px-8lg w-full rounded-full text-dark-blue mb-8 md:mb-8lg" type="text">
            <input formControlName="email" placeholder="Email" class="placeholder:text-dark-blue placeholder:text-xl md:placeholder:text-xl-vw placeholder:opacity-60 focus-visible:outline-2 focus-visible:outline-oran text-xl md:text-xl-vw border-2 border-oran py-2 md:py-2lg px-8 md:px-8lg w-full rounded-full text-dark-blue mb-8 md:mb-8lg" type="text">
            <div class="relative">
                <input  formControlName="date" (focus)="showPicker = true" placeholder="Data" class="placeholder:text-dark-blue placeholder:text-xl md:placeholder:text-xl-vw placeholder:opacity-60 focus-visible:outline-2 focus-visible:outline-oran text-xl md:text-xl-vw border-2 border-oran py-2 md:py-2lg px-8 md:px-8lg w-full rounded-full text-dark-blue mb-8 md:mb-8lg" type="text">
                @if(showPicker) {
                    <div class="absolute"> 
                        <p-datepicker (onInput)="report(date)" (blur)="showPicker = false" (onSelect)="showPicker = false;formatDate()"  formControlName="date" class="max-w-full" [inline]="true" [showWeek]="true" />
                    </div>
                }
            </div>
            <textarea formControlName="message" placeholder="Messaggio" class="placeholder:text-dark-blue placeholder:text-xl md:placeholder:text-xl-vw placeholder:opacity-60 focus-visible:outline-2 focus-visible:outline-oran text-xl md:text-xl-vw border-2 border-oran py-2 md:py-2lg px-8 md:px-8lg w-full rounded-xl text-dark-blue mb-8 md:mb-8lg h-48 md:h-[6vw]" ></textarea>
            <div class="flex flex-row mb-8"><p-checkbox  [binary]="true" formControlName="terms"  inputId="ny" /><label for="ny" class="ml-2 text-dark-blue">Dichiaro di aver letto e accettato i <a class="text-oran" [routerLink]="['/termini-e-condizioni']">termini e condizioni</a></label></div>
            <button [disabled]="form.invalid" (click)="sendData()" class="bg-oran text-white text-xl md:text-xl-vw h-12 md:h-[2.8vw] rounded-full w-full md:w-1/2 mt-auto mx-auto md:ml-auto md:mr-0 shadow-button cursor-pointer hover:opacity-80 active:scale-95 transition-transform duration-300 disabled:bg-gray-400 disabled:hover:opacity-50 disabled:active:scale-100 disabled:opacity-50 disabled:cursor-not-allowed">INVIA</button>
        </div>}
        @else {
            <div class="flex flex-col flex-1/2 p-6 md:p-[2vw]">
                <span class="text-2xl md:text-2xl-vw text-custom-blue text-center m-auto">
                    Grazie per averci contattato, ti risponderemo nel più breve tempo possibile
                </span>
            </div>
        }
    </div>
</div>

@if(showCard) {
    <div [formGroup]="form" class="flex flex-col content-center items-center justify-baseline md:justify-center fixed top-0 left-0 w-[100vw] overflow-y-auto min-h-[100vh] bg-[rgba(16,16,16,0.88)]">
        <div class="flex w-full items-center mt-0 h-16">
            <button (click)="showCard = false" class="ml-auto mr-4 text-white cursor-pointer">
                <ng-icon name="heroXMark" class="w-8 h-8"></ng-icon>
            </button>
        </div>
        <div class="flex flex-col md:flex-row md:my-auto rounded-4xl bg-white w-[70vw] ">
            <div class="flex flex-col flex-2/6 pt-8 md:pt-[2vw] px-12 md:pl-[3vw] md:pr-0 pb-6lg">        
                <div class="flex">
                    <span class="text-xl md:text-3xl-vw mx-auto  md:mx-0 font-bold text-dark-blue pb-[1vw] pr-[4vw] border-b-4 border-oran shadow-custom">{{accData.name}}</span>
                </div>
                <div class="flex flex-col mt-8 md:mt-[2vw] md:w-3/4"> 
                    <span class="text-dark-blue text-[15px] md:text-base-vw  leading-tight">{{accData.description}}</span>
                    
                </div>
                <div class="border-b border-oran w-full flex flex-col mt-2 pb-6 md:pb-4 md:mt-[2vw]">
                    <div class="hidden md:flex flex-col">
                    @for(point of accData.points; track $index) {
                        <span class="text-dark-blue text-sm md:text-base-vw  leading-tight">• {{point}}</span><br>
                    }
                </div>
                </div>
                <div class="w-full flex flex-col mt-6 md:mt-[2vw] pb-8 md:pb-0">
                    <!-- <div class="flex flex-col md:flex-row items-center mb-[1vw]">
                        <img class="h-12 md:h-16lg" src="/assets/img/icon_price.png" alt="">
                        <div class="ml-[1vw] flex flex-col">
                            <span class="text-dark-blue text-2xl md:text-2xl-vw text-center md:text-left leading-tight">Prezzi</span>
                            @for(el of accData.prices; track $index) {
                                <span class="hidden md:block text-dark-blue text-base md:text-base-vw leading-tight">• {{el[0]}} {{el[1]}}</span>
                                <span class="block md:hidden text-dark-blue text-base md:text-base-vw leading-tight mb-2"> @if (el[0]!== '') {•  <b> {{ el[0]}} </b><br>} {{el[1] }} </span>
                            }
                        </div>                    
                    </div> -->
                    <div class="flex md:hidden w-full mb-6">
                        <img class="w-full" [src]="accData.pics[1]" alt="">
                    </div>
                    <button (click)="addService(accData.name, true); showCard = false" *ngIf="!form.value[accData.name]" class="bg-oran text-white text-lg md:text-xl-vw h-8 md:h-[2.8vw] rounded-full w-3/4 md:w-1/2 mt-auto mx-auto md:ml-auto md:mr-0 shadow-button cursor-pointer hover:opacity-80 active:scale-95 transition-transform duration-300">AGGIUNGI</button>
                    <button (click)="addService(accData.name, false); showCard = false" *ngIf="form.value[accData.name]" class="bg-oran text-white text-lg md:text-xl-vw h-8 md:h-[2.8vw] rounded-full w-3/4 md:w-1/2 mt-auto mx-auto md:ml-auto md:mr-0 shadow-button cursor-pointer hover:opacity-80 active:scale-95 transition-transform duration-300">ELIMINA</button>
                </div>
                
            </div>
            <div class="hidden md:flex flex-4/6 p-3 md:p-6lg">
                <img class="rounded-b-4xl md:rounded-r-3xl md:rounded-bl-none w-full h-full" [src]="accData.pics[1]" alt="">
            </div>

        </div>
    </div>
}
</div>